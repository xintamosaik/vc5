<!DOCTYPE html>
<html lang="en" style="background-color: black; color: white">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VC5</title>
    <meta name="description" content="A simple editor for CVs" />
    <style>
      nav {
        display: flex;
        flex-direction: row;
        gap: 1rem;
        align-items: flex-start;
      }

      main {
        padding: 1rem;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      #preview,
      #editor {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
    </style>
    <style>
      button {
        border: 1px solid white;
        background-color: black;
        color: white;
        padding: 1rem 2rem;
        box-shadow: 0.5ch 0.5ch 0 white;
      }
    </style>
  </head>

  <body style="margin: 0; border: 1px solid hotpink" class="editor">
    <main>
      <script>
        function handleMenuClick(event) {
          const target = event.target;
          if (target.tagName !== "BUTTON") return;

          const navigation = target.closest("nav");
          if (!navigation) return;

          const sectionName = navigation.dataset.section;
          if (!sectionName) return;

          const active = target.value;
          if (!active) return;

          const style = document.getElementById(sectionName + "-style");
          if (!style) {
            return;
          }
          style.innerHTML = `
            #${sectionName} > #${active} { display: flex; flex-direction: column; }
            button[value="${active}"] { box-shadow: none; margin-top: 0.5ch; margin-left: 0.5ch; border-color: yellow;}
          `;
        }
      </script>
      <section id="editor" class="active" style="border: 1px solid teal">
        <style id="editor-style">
          #facts {
            display: flex;
            flex-direction: column;
          }
        </style>

        <nav data-section="editor" onclick="handleMenuClick(event)">
          <button value="cvs">CVs</button>
          <button value="facts">Facts</button>
          <button value="styles">Styles</button>
          <button value="settings">Settings</button>
        </nav>

        <div id="cvs" class="editor" hidden></div>
        <div id="facts" class="editor" hidden>
          <style id="facts-style"></style>

          <nav data-section="facts" onclick="handleMenuClick(event)">
            <button value="personal">Personal</button>
            <button value="contact">Contact</button>
            <button value="summary">Summary</button>
            <button value="education">Education</button>
            <button value="experience">Experience</button>
            <button value="skills">Skills</button>
          </nav>
          <div id="personal" class="facts" hidden></div>
          <div id="contact" class="facts" hidden></div>
          <div id="summary" class="facts" hidden></div>
          <div id="education" class="facts" hidden></div>
          <div id="experience" class="facts" hidden></div>
          <div id="skills" class="facts" hidden></div>
        </div>
        <div id="styles" class="editor" hidden></div>
        <div id="settings" class="editor" hidden></div>
      </section>
      <section id="preview" style="border: 1px solid yellow"></section>
    </main>
  </body>
</html>
